{"version":3,"sources":["webpack:///src/views/user/brand.vue","webpack:///./src/views/user/brand.vue?588a","webpack:///./src/views/user/brand.vue"],"names":["vue_esm","use","element_ui_common","brand","name","data","brandData","bid","sid","bname","leval","zone","endTime","discount","status","currPage","totleCount","pagesize","error","errormsg","addBrandDialog","dialogStatus","newBrandData","computed","currentMenu","this","$store","state","menu","methods","addBrand","addBrandSub","_this","key","isExist","forEach","ele","$message","type","message","push","editBrand","index","extends_default","editBrandSub","_this2","delBrand","_this3","$confirm","confirmButtonText","cancelButtonText","then","splice","catch","formatTooltip","val","filters","getDate","date","Date","year","getFullYear","month","getMonth","day","watch","user_brand","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","_e","attrs","id","placeholder","to","on","click","_m","_l","item","_f","$event","layout","page-size","current-page","total","update:currentPage","update:current-page","title","visible","update:visible","width","directives","rawName","value","expression","modifiers","trim","domProps","input","target","composing","$set","blur","$forceUpdate","model","callback","$$v","format-tooltip","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"2KA+EAA,EAAA,QAAAC,IAAAC,EAAA,QACAF,EAAA,QAAAC,IAAAC,EAAA,YACA,IAAAC,GACAC,KAAA,YACAC,KAFA,WAGA,OACAC,YAAAC,IAAA,EAAAC,IAAA,EAAAC,MAAA,MAAAC,MAAA,OAAAC,KAAA,KAAAC,QAAA,2BAAAC,SAAA,IAAAC,OAAA,MAAAP,IAAA,EAAAC,IAAA,EAAAC,MAAA,MAAAC,MAAA,OAAAC,KAAA,KAAAC,QAAA,2BAAAC,SAAA,IAAAC,OAAA,MAAAP,IAAA,EAAAC,IAAA,EAAAC,MAAA,MAAAC,MAAA,OAAAC,KAAA,KAAAC,QAAA,2BAAAC,SAAA,GAAAC,OAAA,MAAAP,IAAA,EAAAC,IAAA,EAAAC,MAAA,MAAAC,MAAA,OAAAC,KAAA,KAAAC,QAAA,2BAAAC,SAAA,GAAAC,OAAA,MACAC,SAAA,EACAC,WAAA,EACAC,SAAA,EACAC,MAAA,EACAC,SAAA,GACAC,gBAAA,EACAC,aAAA,EACAC,kBAGAC,UACAC,YADA,WAEA,OAAAC,KAAAC,OAAAC,MAAAC,KAAAJ,cAGAK,SACAC,SADA,WAEAL,KAAAH,cAAAb,MAAA,GAAAC,MAAA,GAAAC,KAAA,GAAAC,QAAA,GAAAC,SAAA,GACAY,KAAAL,gBAAA,EACAK,KAAAJ,aAAA,OAEAU,YANA,WAMA,IAAAC,EAAAP,KACAX,GAAA,EACA,QAAAmB,KAAAR,KAAAH,aACA,IAAAG,KAAAH,aAAAW,KAAAnB,GAAA,GAEA,GAAAA,EAAA,CACA,IAAAoB,GAAA,EACAT,KAAAnB,UAAA6B,QAAA,SAAAC,GACAA,EAAA3B,OAAAuB,EAAAV,aAAAb,QACAyB,GAAA,KAGAA,EACAT,KAAAY,UAAAC,KAAA,UAAAC,QAAA,cAEAd,KAAAnB,UAAAkC,KAAAf,KAAAH,cACAG,KAAAL,gBAAA,EACAK,KAAAY,UAAAC,KAAA,UAAAC,QAAA,gBAGAd,KAAAY,UAAAC,KAAA,SAAAC,QAAA,0BAGAE,UA7BA,SA6BAC,GACAjB,KAAAH,aAAAqB,OAAAlB,KAAAnB,UAAAoC,IACAjB,KAAAH,aAAAT,UAAA,IACAY,KAAAL,gBAAA,EACAK,KAAAJ,aAAAqB,GAEAE,aAnCA,WAmCA,IAAAC,EAAApB,KACAX,GAAA,EACA,QAAAmB,KAAAR,KAAAH,aACA,IAAAG,KAAAH,aAAAW,KAAAnB,GAAA,GAEA,GAAAA,EAAA,CACA,IAAAoB,GAAA,EACAT,KAAAnB,UAAA6B,QAAA,SAAAC,GACAA,EAAA3B,OAAAoC,EAAAvB,aAAAb,QACAyB,GAAA,KAGAA,EACAT,KAAAY,UAAAC,KAAA,UAAAC,QAAA,cAEAd,KAAAnB,UAAAmB,KAAAJ,cAAAsB,OAAAlB,KAAAH,cACAG,KAAAL,gBAAA,EACAK,KAAAY,UAAAC,KAAA,UAAAC,QAAA,gBAGAd,KAAAY,UAAAC,KAAA,SAAAC,QAAA,0BAGAO,SA1DA,SA0DAJ,GAAA,IAAAK,EAAAtB,KACAA,KAAAuB,SAAA,6BACAC,kBAAA,KACAC,iBAAA,KACAZ,KAAA,YACAa,KAAA,WACAJ,EAAAzC,UAAA8C,OAAAV,EAAA,GACAK,EAAAV,UAAAC,KAAA,UAAAC,QAAA,YACAc,MAAA,WACAN,EAAAV,UAAAC,KAAA,OAAAC,QAAA,aAGAe,cAtEA,SAsEAC,GACA,OAAAA,EAAA,MAGAC,SACAC,QADA,SACAF,GACA,IAAAG,EAAA,IAAAC,KAAAJ,GACAK,EAAAF,EAAAG,cACAC,EAAAJ,EAAAK,WAAA,EACAC,EAAAN,EAAAD,UAGA,OAAAG,EAAA,KAFAE,IAAA,OAAAA,KAEA,KADAE,IAAA,OAAAA,OAIAC,OACAlD,SAAA,iBCxLemD,GADEC,OAFjB,WAA0B,IAAAC,EAAA3C,KAAa4C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,iBAA2BF,EAAA,MAAAH,EAAAM,GAAAN,EAAAO,GAAAP,EAAA5C,YAAA,SAAA+C,EAAA,SAAAH,EAAAM,GAAAN,EAAAO,GAAAP,EAAA5C,YAAA,GAAA4C,EAAA5C,YAAA,YAAA4C,EAAAM,GAAA,KAAAH,EAAA,OAAiJE,YAAA,oBAA8BF,EAAA,OAAYE,YAAA,oBAA8BF,EAAA,OAAYE,YAAA,oBAA8BL,EAAAlD,MAA2QkD,EAAAQ,KAA3QL,EAAA,OAAyBE,YAAA,iCAA2CF,EAAA,SAAcE,YAAA,wBAAAI,OAA2CvC,KAAA,OAAAlC,KAAA,GAAA0E,GAAA,GAAAC,YAAA,aAAyDX,EAAAM,GAAA,KAAAH,EAAA,eAAgCE,YAAA,wBAAAI,OAA2CG,GAAA,OAAUZ,EAAAM,GAAA,cAAAN,EAAAM,GAAA,KAAAH,EAAA,OAAsDE,YAAA,gBAA0BF,EAAA,UAAeE,YAAA,kBAAAQ,IAAkCC,MAAAd,EAAAtC,YAAsBsC,EAAAM,GAAA,eAAAN,EAAAM,GAAA,KAAAN,EAAAlD,MAA6nCkD,EAAAQ,KAA7nCL,EAAA,OAA2DE,YAAA,SAAmBF,EAAA,SAAcE,YAAA,UAAoBL,EAAAe,GAAA,GAAAf,EAAAM,GAAA,KAAAH,EAAA,QAAAH,EAAAgB,GAAAhB,EAAA,mBAAAiB,EAAA3C,GAA+E,OAAA6B,EAAA,MAAgBtC,IAAAS,IAAU6B,EAAA,MAAAH,EAAAM,GAAAN,EAAAO,GAAAU,EAAA5E,UAAA2D,EAAAM,GAAA,KAAAH,EAAA,MAAAH,EAAAM,GAAAN,EAAAO,GAAAU,EAAA3E,UAAA0D,EAAAM,GAAA,KAAAH,EAAA,MAAAH,EAAAM,GAAAN,EAAAO,GAAAU,EAAA1E,SAAAyD,EAAAM,GAAA,KAAAH,EAAA,MAAAH,EAAAM,GAAAN,EAAAO,GAAAP,EAAAkB,GAAA,UAAAlB,CAAAiB,EAAAzE,aAAAwD,EAAAM,GAAA,KAAAH,EAAA,MAAAH,EAAAM,GAAAN,EAAAO,GAAAU,EAAAxE,aAAAuD,EAAAM,GAAA,KAAAH,EAAA,MAAAH,EAAAM,GAAAN,EAAAO,GAAA,GAAAU,EAAAvE,OAAA,eAAAsD,EAAAM,GAAA,KAAAH,EAAA,MAAAA,EAAA,OAAuWE,YAAA,cAAwBF,EAAA,OAAYE,YAAA,eAAAQ,IAA+BC,MAAA,SAAAK,GAAyB,OAAAnB,EAAA3B,UAAAC,OAA8B0B,EAAAM,GAAA,QAAAN,EAAAM,GAAA,KAAAH,EAAA,OAAuCE,YAAA,iBAAAQ,IAAiCC,MAAA,SAAAK,GAAyB,OAAAnB,EAAAtB,SAAAJ,OAA6B0B,EAAAM,GAAA,gBAAuB,KAAAN,EAAAM,GAAA,KAAAH,EAAA,iBAAuCE,YAAA,cAAAI,OAAiCW,OAAA,oBAAAC,YAAArB,EAAAnD,SAAAyE,eAAAtB,EAAArD,SAAA4E,MAAAvB,EAAApD,YAAyGiE,IAAKW,qBAAA,SAAAL,GAAsCnB,EAAArD,SAAAwE,GAAoBM,sBAAA,SAAAN,GAAwCnB,EAAArD,SAAAwE,OAAsB,GAAAnB,EAAAM,GAAA,KAAAN,EAAA,MAAAG,EAAA,OAAiDE,YAAA,kCAA4CF,EAAA,KAAAH,EAAAM,GAAAN,EAAAO,GAAAP,EAAAjD,aAAAiD,EAAAM,GAAA,QAAAN,EAAAlD,MAAAqD,EAAA,UAAiFE,YAAA,2BAAqCL,EAAAM,GAAA,UAAAN,EAAAQ,OAAAR,EAAAQ,OAAAR,EAAAM,GAAA,KAAAH,EAAA,aAAqEM,OAAOiB,MAAA,OAAA1B,EAAA/C,aAAA,cAAA0E,QAAA3B,EAAAhD,gBAA2E6D,IAAKe,iBAAA,SAAAT,GAAkCnB,EAAAhD,eAAAmE,MAA4BhB,EAAA,SAAAA,EAAA,SAAAA,EAAA,MAAAA,EAAA,MAA4CM,OAAOoB,MAAA,WAAiB7B,EAAAM,GAAA,WAAAH,EAAA,MAAAA,EAAA,SAAyC2B,aAAa9F,KAAA,QAAA+F,QAAA,eAAAC,MAAAhC,EAAA9C,aAAA,MAAA+E,WAAA,qBAAAC,WAA8GC,MAAA,KAAa9B,YAAA,eAAAI,OAAoCvC,KAAA,QAAckE,UAAWJ,MAAAhC,EAAA9C,aAAA,OAAiC2D,IAAKwB,MAAA,SAAAlB,GAAyBA,EAAAmB,OAAAC,WAAsCvC,EAAAwC,KAAAxC,EAAA9C,aAAA,QAAAiE,EAAAmB,OAAAN,MAAAG,SAAgEM,KAAA,SAAAtB,GAAyB,OAAAnB,EAAA0C,uBAA4B1C,EAAAM,GAAA,KAAAH,EAAA,MAAAA,EAAA,MAAAH,EAAAM,GAAA,WAAAH,EAAA,MAAAA,EAAA,SAA2E2B,aAAa9F,KAAA,QAAA+F,QAAA,eAAAC,MAAAhC,EAAA9C,aAAA,MAAA+E,WAAA,qBAAAC,WAA8GC,MAAA,KAAa9B,YAAA,eAAAI,OAAoCvC,KAAA,QAAckE,UAAWJ,MAAAhC,EAAA9C,aAAA,OAAiC2D,IAAKwB,MAAA,SAAAlB,GAAyBA,EAAAmB,OAAAC,WAAsCvC,EAAAwC,KAAAxC,EAAA9C,aAAA,QAAAiE,EAAAmB,OAAAN,MAAAG,SAAgEM,KAAA,SAAAtB,GAAyB,OAAAnB,EAAA0C,uBAA4B1C,EAAAM,GAAA,KAAAH,EAAA,MAAAA,EAAA,MAAAH,EAAAM,GAAA,WAAAH,EAAA,MAAAA,EAAA,SAA2E2B,aAAa9F,KAAA,QAAA+F,QAAA,eAAAC,MAAAhC,EAAA9C,aAAA,KAAA+E,WAAA,oBAAAC,WAA4GC,MAAA,KAAa9B,YAAA,eAAAI,OAAoCvC,KAAA,QAAckE,UAAWJ,MAAAhC,EAAA9C,aAAA,MAAgC2D,IAAKwB,MAAA,SAAAlB,GAAyBA,EAAAmB,OAAAC,WAAsCvC,EAAAwC,KAAAxC,EAAA9C,aAAA,OAAAiE,EAAAmB,OAAAN,MAAAG,SAA+DM,KAAA,SAAAtB,GAAyB,OAAAnB,EAAA0C,uBAA4B1C,EAAAM,GAAA,KAAAH,EAAA,MAAAA,EAAA,MAAAH,EAAAM,GAAA,aAAAN,EAAAM,GAAA,KAAAH,EAAA,MAAAA,EAAA,kBAAkGM,OAAOvC,KAAA,OAAAyC,YAAA,QAAmCgC,OAAQX,MAAAhC,EAAA9C,aAAA,QAAA0F,SAAA,SAAAC,GAA0D7C,EAAAwC,KAAAxC,EAAA9C,aAAA,UAAA2F,IAA2CZ,WAAA,2BAAoC,KAAAjC,EAAAM,GAAA,KAAAH,EAAA,MAAAA,EAAA,MAAAH,EAAAM,GAAA,WAAAH,EAAA,MAAAA,EAAA,aAAiFM,OAAOqC,iBAAA9C,EAAAd,eAAmCyD,OAAQX,MAAAhC,EAAA9C,aAAA,SAAA0F,SAAA,SAAAC,GAA2D7C,EAAAwC,KAAAxC,EAAA9C,aAAA,WAAA2F,IAA4CZ,WAAA,4BAAqC,SAAAjC,EAAAM,GAAA,KAAAH,EAAA,OAAkCE,YAAA,gBAAAI,OAAmCsC,KAAA,UAAgBA,KAAA,WAAe5C,EAAA,UAAeE,YAAA,eAAAQ,IAA+BC,MAAA,SAAAK,GAAyBnB,EAAAhD,gBAAA,MAA6BgD,EAAAM,GAAA,SAAAN,EAAAM,GAAA,YAAAN,EAAA/C,aAAAkD,EAAA,UAAqEE,YAAA,kBAAAQ,IAAkCC,MAAAd,EAAArC,eAAyBqC,EAAAM,GAAA,UAAAN,EAAAQ,KAAAR,EAAAM,GAAA,YAAAN,EAAA/C,aAAAkD,EAAA,UAA+EE,YAAA,kBAAAQ,IAAkCC,MAAAd,EAAAxB,gBAA0BwB,EAAAM,GAAA,QAAAN,EAAAQ,UAAA,IAE9xJwC,iBADjB,WAAoC,IAAAhD,EAAA3C,KAAa4C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,SAAAA,EAAA,MAAAH,EAAAM,GAAA,UAAAN,EAAAM,GAAA,KAAAH,EAAA,MAAAH,EAAAM,GAAA,UAAAN,EAAAM,GAAA,KAAAH,EAAA,MAAAH,EAAAM,GAAA,UAAAN,EAAAM,GAAA,KAAAH,EAAA,MAAAH,EAAAM,GAAA,YAAAN,EAAAM,GAAA,KAAAH,EAAA,MAAAH,EAAAM,GAAA,UAAAN,EAAAM,GAAA,KAAAH,EAAA,MAAAH,EAAAM,GAAA,QAAAN,EAAAM,GAAA,KAAAH,EAAA,MAAAH,EAAAM,GAAA,aCEnG,IAcA2C,EAdyBC,EAAQ,OAcjCC,CACEpH,EACA+D,GATF,EAVA,SAAAsD,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/5.e6f9706d2b576db1d595.js","sourcesContent":["<template>\r\n    <div class=\"main message\">\r\n        <h3>{{currentMenu[1]}} <small>{{currentMenu[2]?currentMenu[2]:''}}</small></h3>\r\n        <div class=\"msgbox clearfix\">\r\n                <div class=\"search clearfix\">\r\n                    <div class=\"float-left form\">\r\n                      <div class=\" form-row align-items-center\" v-if=\"!error\">\r\n                        <input type=\"text\" class=\"col-sm-4 form-control\" name=\"\" id=\"\" placeholder=\"请输入搜索内容\">\r\n                        <router-link to=\"/\" class=\"col-sm-1 btn btn-info\">搜索</router-link>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"float-right\">\r\n                        <button class=\"btn btn-primary\" @click='addBrand'>增加新品牌</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"list\" v-if=\"!error\">\r\n                  <table class=\"table\">\r\n                    <thead>\r\n                        <th>品牌名称</th>\r\n                        <th>代理级别</th>\r\n                        <th>代理区域</th>\r\n                        <th>授权截止时间</th>\r\n                        <th>品牌折扣</th>\r\n                        <th>状态</th>\r\n                        <th>操作</th>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr v-for=\"(item,index) in brandData\" :key=\"index\">\r\n                        <td>{{item.bname}}</td>\r\n                        <td>{{item.leval}}</td>\r\n                        <td>{{item.zone}}</td>\r\n                        <td>{{item.endTime|getDate}}</td>\r\n                        <td>{{item.discount}}</td>\r\n                        <td>{{item.status==1?'正常':'已到期'}}</td>\r\n                        <td>\r\n                          <div class=\"btn-group\">\r\n                            <div class=\"btn btn-info\" @click=\"editBrand(index)\">编辑</div>\r\n                            <div class=\"btn btn-danger\" @click=\"delBrand(index)\">删除</div>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                  <el-pagination class=\"text-center\" layout=\"prev, pager, next\" \r\n                    :page-size=\"pagesize\" \r\n                    :current-page.sync=\"currPage\"\r\n                    :total=\"totleCount\"\r\n                  ></el-pagination>\r\n                </div>\r\n                <div class=\"error text-danger text-center\" v-if=\"error\">\r\n                  <p>{{errormsg}}</p>\r\n                  <button v-if='error==2' class=\"btn btn-primary btn-lg\">重新获取</button>\r\n                </div>\r\n        </div>\r\n        \r\n        <el-dialog :title=\"dialogStatus=='add'?'新增品牌':'品牌编辑'\" :visible.sync=\"addBrandDialog\">\r\n          <table>\r\n            <tbody>\r\n              <tr><th width=\"120px\">品牌名称：</th><td><input type=\"text\" class=\"form-control\" v-model.trim=\"newBrandData.bname\"></td></tr>\r\n              <tr><th>代理级别：</th><td><input type=\"text\" class=\"form-control\" v-model.trim=\"newBrandData.leval\"></td></tr>\r\n              <tr><th>代理区域：</th><td><input type=\"text\" class=\"form-control\" v-model.trim=\"newBrandData.zone\"></td></tr>\r\n              <tr><th>授权截止时间：</th>\r\n              <td><el-date-picker v-model=\"newBrandData.endTime\" type=\"date\" placeholder=\"选择日期\"></el-date-picker></td>\r\n              </tr>\r\n              <tr><th>品牌折扣：</th><td><el-slider v-model=\"newBrandData.discount\" :format-tooltip=\"formatTooltip\"></el-slider></td></tr>\r\n            </tbody>\r\n          </table>\r\n          <div slot=\"footer\" class=\"dialog-footer\">\r\n            <button class=\"btn btn-dark\" @click=\"addBrandDialog = false\">取 消</button>\r\n            <button v-if=\"dialogStatus=='add'\" class=\"btn btn-primary\" @click=\"addBrandSub\">立即添加</button>\r\n            <button v-if=\"dialogStatus!='add'\" class=\"btn btn-primary\" @click=\"editBrandSub\">提交</button>\r\n          </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport {Slider,DatePicker} from 'element-ui'\r\nVue.use(Slider)\r\nVue.use(DatePicker)\r\nexport default {\r\n  name: 'UserBrand',\r\n  data () {\r\n    return {\r\n      brandData:[{\"bid\":1,\"sid\":1,\"bname\":\"喜福德\",\"leval\":\"一级代理\",\"zone\":\"北京\",\"endTime\":\"2022-01-18T16:00:00.000Z\",\"discount\":0.88,\"status\":\"1\"},{\"bid\":2,\"sid\":1,\"bname\":\"惠兴隆\",\"leval\":\"一级代理\",\"zone\":\"北京\",\"endTime\":\"2022-06-29T16:00:00.000Z\",\"discount\":0.85,\"status\":\"1\"},{\"bid\":5,\"sid\":1,\"bname\":\"亦福堂\",\"leval\":\"一级代理\",\"zone\":\"北京\",\"endTime\":\"2024-02-06T16:00:00.000Z\",\"discount\":0.8,\"status\":\"1\"},{\"bid\":7,\"sid\":1,\"bname\":\"乐开怀\",\"leval\":\"二级代理\",\"zone\":\"北京\",\"endTime\":\"2023-05-09T16:00:00.000Z\",\"discount\":0.9,\"status\":\"1\"}],\r\n      currPage:1,\r\n      totleCount:1,\r\n      pagesize:4,\r\n      error:0,\r\n      errormsg:'',\r\n      addBrandDialog:false,\r\n      dialogStatus:0,\r\n      newBrandData:{},\r\n    }\r\n  },\r\n  computed:{\r\n    currentMenu(){\r\n      return this.$store.state.menu.currentMenu\r\n    }\r\n  },\r\n  methods:{\r\n    addBrand(){\r\n      this.newBrandData={bname:'',leval:'',zone:'',endTime:'',discount:0}\r\n      this.addBrandDialog=true;\r\n      this.dialogStatus='add';\r\n    },\r\n    addBrandSub(){\r\n      var status=true;\r\n      for(let key in this.newBrandData){\r\n        if(this.newBrandData[key]=='') status=false;\r\n      }\r\n      if(status){\r\n        let isExist=false;\r\n        this.brandData.forEach(ele=>{\r\n          if(ele.bname==this.newBrandData.bname){\r\n            isExist=true;\r\n          }\r\n        });\r\n        if(isExist){\r\n          this.$message({ type: 'warning', message: '改品牌名已存在!' });\r\n        }else{\r\n          this.brandData.push(this.newBrandData);\r\n          this.addBrandDialog=false;\r\n          this.$message({ type: 'success', message: '添加成功!' });\r\n        }\r\n      }else{\r\n        this.$message({ type: 'danger', message: '有信息尚未填写，请确保所有选项填写完整！' });   \r\n      }\r\n    },\r\n    editBrand(index){\r\n      this.newBrandData={...this.brandData[index]};\r\n      this.newBrandData.discount*=100;\r\n      this.addBrandDialog=true;\r\n      this.dialogStatus=index;\r\n    },\r\n    editBrandSub(){\r\n      var status=true;\r\n      for(let key in this.newBrandData){\r\n        if(this.newBrandData[key]=='') status=false;\r\n      }\r\n      if(status){\r\n        let isExist=false;\r\n        this.brandData.forEach(ele=>{\r\n          if(ele.bname==this.newBrandData.bname){\r\n            isExist=true;\r\n          }\r\n        });\r\n        if(isExist){\r\n          this.$message({ type: 'warning', message: '改品牌名已存在!' });\r\n        }else{\r\n          this.brandData[this.dialogStatus]={...this.newBrandData};\r\n          this.addBrandDialog=false;\r\n          this.$message({ type: 'success', message: '修改成功!' });\r\n        }\r\n      }else{\r\n        this.$message({ type: 'danger', message: '有信息尚未填写，请确保所有选项填写完整！' });   \r\n      }\r\n    },\r\n    delBrand(index){\r\n      this.$confirm('此操作将永久删除该品牌信息, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this. brandData.splice(index,1)\r\n          this.$message({ type: 'success', message: '删除成功!' });\r\n        }).catch(() => {\r\n          this.$message({ type: 'info', message: '已取消删除' });          \r\n        });\r\n    },\r\n    formatTooltip(val) {\r\n        return val / 100;\r\n      }\r\n  },\r\n  filters:{\r\n    getDate(val){\r\n      let date=new Date(val);\r\n      let year=date.getFullYear();\r\n      let month=date.getMonth()+1;\r\n      let day=date.getDate();\r\n      month=month<10?'0'+month:month;\r\n      day=day<10?'0'+day:day;\r\n      return year+'-'+month+'-'+day;\r\n    }\r\n  },\r\n  watch:{\r\n    currPage:'getBrandData'\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.error p{margin: 20px auto; padding: 30px; width: 50%; font-size: 16px; text-align: center; border: 1px solid #ccc;}\r\n.error .btn{width: 200px;}\r\n.table tr:last-child td{border-bottom: 1px solid #dee2e6;}\r\n.el-dialog table{width: 80%;}\r\n.el-dialog td{padding: 5px;}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/user/brand.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main message\"},[_c('h3',[_vm._v(_vm._s(_vm.currentMenu[1])+\" \"),_c('small',[_vm._v(_vm._s(_vm.currentMenu[2]?_vm.currentMenu[2]:''))])]),_vm._v(\" \"),_c('div',{staticClass:\"msgbox clearfix\"},[_c('div',{staticClass:\"search clearfix\"},[_c('div',{staticClass:\"float-left form\"},[(!_vm.error)?_c('div',{staticClass:\" form-row align-items-center\"},[_c('input',{staticClass:\"col-sm-4 form-control\",attrs:{\"type\":\"text\",\"name\":\"\",\"id\":\"\",\"placeholder\":\"请输入搜索内容\"}}),_vm._v(\" \"),_c('router-link',{staticClass:\"col-sm-1 btn btn-info\",attrs:{\"to\":\"/\"}},[_vm._v(\"搜索\")])],1):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"float-right\"},[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.addBrand}},[_vm._v(\"增加新品牌\")])])]),_vm._v(\" \"),(!_vm.error)?_c('div',{staticClass:\"list\"},[_c('table',{staticClass:\"table\"},[_vm._m(0),_vm._v(\" \"),_c('tbody',_vm._l((_vm.brandData),function(item,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(item.bname))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.leval))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.zone))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm._f(\"getDate\")(item.endTime)))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.discount))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.status==1?'正常':'已到期'))]),_vm._v(\" \"),_c('td',[_c('div',{staticClass:\"btn-group\"},[_c('div',{staticClass:\"btn btn-info\",on:{\"click\":function($event){return _vm.editBrand(index)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn btn-danger\",on:{\"click\":function($event){return _vm.delBrand(index)}}},[_vm._v(\"删除\")])])])])}),0)]),_vm._v(\" \"),_c('el-pagination',{staticClass:\"text-center\",attrs:{\"layout\":\"prev, pager, next\",\"page-size\":_vm.pagesize,\"current-page\":_vm.currPage,\"total\":_vm.totleCount},on:{\"update:currentPage\":function($event){_vm.currPage=$event},\"update:current-page\":function($event){_vm.currPage=$event}}})],1):_vm._e(),_vm._v(\" \"),(_vm.error)?_c('div',{staticClass:\"error text-danger text-center\"},[_c('p',[_vm._v(_vm._s(_vm.errormsg))]),_vm._v(\" \"),(_vm.error==2)?_c('button',{staticClass:\"btn btn-primary btn-lg\"},[_vm._v(\"重新获取\")]):_vm._e()]):_vm._e()]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.dialogStatus=='add'?'新增品牌':'品牌编辑',\"visible\":_vm.addBrandDialog},on:{\"update:visible\":function($event){_vm.addBrandDialog=$event}}},[_c('table',[_c('tbody',[_c('tr',[_c('th',{attrs:{\"width\":\"120px\"}},[_vm._v(\"品牌名称：\")]),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.newBrandData.bname),expression:\"newBrandData.bname\",modifiers:{\"trim\":true}}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.newBrandData.bname)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newBrandData, \"bname\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_vm._v(\" \"),_c('tr',[_c('th',[_vm._v(\"代理级别：\")]),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.newBrandData.leval),expression:\"newBrandData.leval\",modifiers:{\"trim\":true}}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.newBrandData.leval)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newBrandData, \"leval\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_vm._v(\" \"),_c('tr',[_c('th',[_vm._v(\"代理区域：\")]),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.newBrandData.zone),expression:\"newBrandData.zone\",modifiers:{\"trim\":true}}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.newBrandData.zone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newBrandData, \"zone\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_vm._v(\" \"),_c('tr',[_c('th',[_vm._v(\"授权截止时间：\")]),_vm._v(\" \"),_c('td',[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.newBrandData.endTime),callback:function ($$v) {_vm.$set(_vm.newBrandData, \"endTime\", $$v)},expression:\"newBrandData.endTime\"}})],1)]),_vm._v(\" \"),_c('tr',[_c('th',[_vm._v(\"品牌折扣：\")]),_c('td',[_c('el-slider',{attrs:{\"format-tooltip\":_vm.formatTooltip},model:{value:(_vm.newBrandData.discount),callback:function ($$v) {_vm.$set(_vm.newBrandData, \"discount\", $$v)},expression:\"newBrandData.discount\"}})],1)])])]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('button',{staticClass:\"btn btn-dark\",on:{\"click\":function($event){_vm.addBrandDialog = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),(_vm.dialogStatus=='add')?_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.addBrandSub}},[_vm._v(\"立即添加\")]):_vm._e(),_vm._v(\" \"),(_vm.dialogStatus!='add')?_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.editBrandSub}},[_vm._v(\"提交\")]):_vm._e()])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th',[_vm._v(\"品牌名称\")]),_vm._v(\" \"),_c('th',[_vm._v(\"代理级别\")]),_vm._v(\" \"),_c('th',[_vm._v(\"代理区域\")]),_vm._v(\" \"),_c('th',[_vm._v(\"授权截止时间\")]),_vm._v(\" \"),_c('th',[_vm._v(\"品牌折扣\")]),_vm._v(\" \"),_c('th',[_vm._v(\"状态\")]),_vm._v(\" \"),_c('th',[_vm._v(\"操作\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-df9b7c9a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/brand.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-df9b7c9a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./brand.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./brand.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./brand.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-df9b7c9a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./brand.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-df9b7c9a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/brand.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}