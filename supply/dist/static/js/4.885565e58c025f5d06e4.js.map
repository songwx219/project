{"version":3,"sources":["webpack:///src/components/yzh-code.vue","webpack:///./src/components/yzh-code.vue?b079","webpack:///./src/components/yzh-code.vue","webpack:///src/views/login.vue","webpack:///./src/views/login.vue?310f","webpack:///./src/views/login.vue"],"names":["yzh_code","name","props","data","dragStatus","sx","curX","ctx","width","height","img1","Image","img2","curVal","id","codeBoxStatus","methods","init","fn","_this","this","localStorage","getItem","alert","jquery_default","addClass","Math","ceil","random","src","onload","update","removeClass","x","clearRect","drawImage","dragStart","e","clientX","dragMove","css","display","dragEnd","_this2","value","abs","html","setItem","setTimeout","mounted","getContext","window","onbeforeunload","event","removeItem","destroyed","watch","reload","hasClass","components_yzh_code","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","_v","directives","rawName","expression","attrs","$event","mousemove","mouseup","_m","mousedown","staticRenderFns","login","components","yzhCode","__webpack_require__","normalizeComponent","ssrContext","codeStatus","user","username","password","errmsg","errstatus","extends_default","loginOnClick","$message","error","sid","uname","setUserData","timer","Date","getTime","stringify_default","message","type","$router","push","Object","vuex_esm","views_login","_s","class","modifiers","trim","domProps","input","target","composing","$set","blur","$forceUpdate","alt","href","login_Component","login_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/4.885565e58c025f5d06e4.js","sourcesContent":["<template>\r\n  <div class=\"code\">\r\n        <span class=\"btn btn-block btn-warning  btn-lg button\" @click=\"init\"><i class=\"fa fa-info-circle \"></i> 点击完成安全验证</span>\r\n        <div class=\"code_box\" v-show=\"codeBoxStatus\">\r\n            <canvas id=\"VerifiCode\" :width=\"width\" :height=\"height\"></canvas>\r\n            <div class=\"button text-primary d-flex align-items-center\">\r\n                <div class=\"refresh pr-2\" @click=\"init\"><i class=\"fa fa-refresh\"></i></div>\r\n                <div class=\"remove\" @click=\"codeBoxStatus=false\"><i class=\"fa fa-remove\"></i></div>\r\n            </div>\r\n            <div class=\"slider\" @mousemove=\"dragMove($event)\" @mouseup=\"dragEnd\">\r\n                <div class=\"slider_cont\"><span class=\"text\">向右拖动滑块填充拼图 </span></div>\r\n                <div class=\"slider_done\"></div>\r\n                <div class=\"slider_block\" @mousedown=\"dragStart($event)\"><i class=\"fa fa-reorder\"></i></div>\r\n            </div>\r\n            <div class=\"loading text-danger\">\r\n                <div class=\"box d-flex flex-column justify-content-center w-100 h-100 mr-0 \"><i class=\"fa fa-spinner\"></i></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport $ from 'jquery'\r\n\r\nexport default {\r\n  name: 'YanzhengCode',\r\n  props:['reload'],\r\n  data () {\r\n    return {\r\n        dragStatus:false,\r\n        sx:0,\r\n        curX:0,\r\n        ctx:null,\r\n\r\n        width:600,\r\n        height:300,\r\n        img1:new Image(),\r\n        img2:new Image(),\r\n        curVal:[309,356,378,419,487,414,322,431,305,496],\r\n        id:null,\r\n        codeBoxStatus:false\r\n    }\r\n  },\r\n  methods:{\r\n      init(fn){\r\n            this.curX=0;\r\n            if(localStorage.getItem('code')){\r\n                alert('您已通过验证，请填写完毕直接提交您的信息！');\r\n            }else{\r\n                this.codeBoxStatus=true;\r\n                $('.code_box .loading').addClass('show');\r\n                this.id=Math.ceil(Math.random()*10);\r\n                this.img1.src = `http://songwx219.github.io/node/public/code/1/${this.id}-1.png`;\r\n                this.img1.onload=()=>{\r\n                    this.img2.src = `http://songwx219.github.io/node/public/code/1/${this.id}-2.png`;\r\n                }\r\n                this.img2.onload=()=>{\r\n                    this.update(0);\r\n                    $('.code_box .loading').removeClass('show');\r\n                    if(fn) fn();\r\n                } \r\n            }    \r\n        },\r\n        update(x){\r\n            this.curX=x*2;\r\n            this.ctx.clearRect(0,0,this.width,this.height);\r\n            this.ctx.drawImage(this.img1, 0, 0,this.width,this.height);\r\n            this.ctx.drawImage(this.img2, this.curX, 0,120,this.height); \r\n        },\r\n        dragStart(e){\r\n            this.dragStatus=true;\r\n            this.sx=e.clientX;\r\n            $('.slider').addClass('drag');\r\n        },\r\n        dragMove(e){\r\n            if(this.dragStatus){\r\n                if(e.clientX-this.sx>=-2&&e.clientX-this.sx<=262){\r\n                    $('.slider_block').css('transform',`translateX(${e.clientX-this.sx}px)`);\r\n                    $('.slider_done').css({'display':'block','width':`${e.clientX-this.sx+20}px`});\r\n                    this.update(e.clientX-this.sx);\r\n                }\r\n            }\r\n        },\r\n        dragEnd(){\r\n            this.dragStatus=false;\r\n            $('.code_box .loading').addClass('show');\r\n            var value=this.curX+10\r\n            if(Math.abs(value-this.curVal[this.id-1])<10){\r\n                $('.code_box .loading .box').addClass('text-success').html('<span class=\"fa fa-check-circle \"></span><span>验证成功</span>');\r\n                localStorage.setItem('code',true)\r\n                setTimeout(()=>{\r\n                    $('.code_box .loading').removeClass('show');\r\n                    $('.code_box .loading .box').removeClass('text-success').html('<i class=\"fa fa-spinner\"></i>');\r\n                    this.codeBoxStatus=false;\r\n                    $('.code span.button').removeClass('btn-warning').addClass('btn-success').html('<i class=\"fa fa-check-circle \"> </i> 验证成功') \r\n                },300);\r\n            }else{\r\n                $('.slider').addClass('err');\r\n                $('.code_box .loading .box').html('<span class=\"fa fa-exclamation-circle \"></span><span>验证失败</span>');\r\n                this.init(function(){\r\n                    $('.slider').removeClass('err');\r\n                    $('.slider').removeClass('drag');\r\n                    $('.code_box .loading .box').html('<i class=\"fa fa-spinner\"></i>')\r\n                    $('.slider_block').css('transform','translateX(0px)');\r\n                    $('.slider_done').css({'display':'none','width':`0px`}); \r\n                });\r\n            } \r\n        }\r\n  },\r\n  mounted(){\r\n      this.ctx=$('#VerifiCode')[0].getContext(\"2d\");\r\n      window.onbeforeunload = function(event) {\r\n            localStorage.removeItem('code')\r\n      }\r\n  },\r\n  destroyed(){\r\n        localStorage.removeItem('code')\r\n  },\r\n  watch:{\r\n      reload(){\r\n          if($('.code span.button').hasClass('btn-success')){\r\n            $('.code span.button').addClass('btn-warning').removeClass('btn-success').html('<i class=\"fa fa-info-circle \"></i> 点击完成安全验证')\r\n            $('.slider').removeClass('drag');\r\n            $('.code_box .loading .box').html('<i class=\"fa fa-spinner\"></i>')\r\n            $('.slider_block').css('transform','translateX(0px)');\r\n            $('.slider_done').css({'display':'none','width':`0px`}); \r\n          }\r\n      }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.code{width: 100%; height: 35px; text-align: center; line-height: 35px; cursor: pointer; position: relative; margin-bottom: 20px;}\r\n.code_box{ width: 322px; padding: 10px; border: 1px solid #ccc;user-select: none; position: absolute; bottom: 0; left: 0; background: #fff;}\r\n.code_box canvas{width: 300px; height: 150px; margin-bottom: 15px; background: #aaa;}\r\n.code_box .slider{position: relative; line-height: 40px; text-align: center;}\r\n.code_box .slider_cont{width: 100%; height: 40px; font-size: 13px; color: #333; border: 1px solid #ddd; background: #f5f5f5; border-radius: 5px;}\r\n.code_box .slider_done{position: absolute; left: 0; top: 0; display: none; width: 40px; width: 0; height: 40px;border: 1px solid rgb(48, 179, 255); background: #d1f2ff; border-radius: 5px;}\r\n.code_box .slider_block{position: absolute; left: 0; top: 0; width: 40px; height: 40px; cursor: pointer; border: 1px solid #999; box-shadow: 0 0 2px rgba(0,0,0,0.5); border-radius: 5px; background: #fff;}\r\n.code_box .slider_block:hover{background: rgb(46, 84, 253); color: #fff;}\r\n.code_box .slider.drag .slider_block{background: rgb(46, 84, 253); color: #fff;}\r\n.code_box .slider.drag .text{display: none;}\r\n.code_box .slider.err .slider_block{border-color: #f00; background: #f66;}\r\n.code_box .slider.err .slider_done{border-color: #f00; background: #fcc;}\r\n.code_box .loading{display: none; position: absolute;left: 0; top: 0; right: 0; bottom: 0; font-weight: 700; background: rgba(255,255,255,0.7);}\r\n.code_box .loading.show{display: block;} \r\n.code_box .loading i.fa{font-size: 36px;}\r\n.code_box .loading.show i.fa{animation: loading 1s infinite;}\r\n.code_box .button{position: absolute; right: 12px; top: 12px; height: 24px; padding: 0 6px; font-size: 14px; background: rgba(255,255,255,0.6); border-radius: 5px;}\r\n.code_box .button>div{transition: all .5s; }\r\n.code_box .button .remove{font-size: 18px;}\r\n.code_box .button>div:hover{transform: scale(1.1); color: #f80}\r\n\r\n@keyframes loading{\r\n    0%{transform: rotate(0deg)}\r\n    100%{transform: rotate(360deg)}\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/yzh-code.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"code\"},[_c('span',{staticClass:\"btn btn-block btn-warning  btn-lg button\",on:{\"click\":_vm.init}},[_c('i',{staticClass:\"fa fa-info-circle \"}),_vm._v(\" 点击完成安全验证\")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.codeBoxStatus),expression:\"codeBoxStatus\"}],staticClass:\"code_box\"},[_c('canvas',{attrs:{\"id\":\"VerifiCode\",\"width\":_vm.width,\"height\":_vm.height}}),_vm._v(\" \"),_c('div',{staticClass:\"button text-primary d-flex align-items-center\"},[_c('div',{staticClass:\"refresh pr-2\",on:{\"click\":_vm.init}},[_c('i',{staticClass:\"fa fa-refresh\"})]),_vm._v(\" \"),_c('div',{staticClass:\"remove\",on:{\"click\":function($event){_vm.codeBoxStatus=false}}},[_c('i',{staticClass:\"fa fa-remove\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"slider\",on:{\"mousemove\":function($event){return _vm.dragMove($event)},\"mouseup\":_vm.dragEnd}},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"slider_done\"}),_vm._v(\" \"),_c('div',{staticClass:\"slider_block\",on:{\"mousedown\":function($event){return _vm.dragStart($event)}}},[_c('i',{staticClass:\"fa fa-reorder\"})])]),_vm._v(\" \"),_vm._m(1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"slider_cont\"},[_c('span',{staticClass:\"text\"},[_vm._v(\"向右拖动滑块填充拼图 \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loading text-danger\"},[_c('div',{staticClass:\"box d-flex flex-column justify-content-center w-100 h-100 mr-0 \"},[_c('i',{staticClass:\"fa fa-spinner\"})])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1f4a7342\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/yzh-code.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1f4a7342\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./yzh-code.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./yzh-code.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./yzh-code.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1f4a7342\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./yzh-code.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1f4a7342\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/yzh-code.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <header><img src=\"static/images/logo.png\" alt=\"\"></header>\r\n    <section class=\"login-box\">\r\n        <div class=\"login container clearfix\">\r\n            <div class=\"logo\">\r\n                <!-- <img src=\"static/images/ad-login-03.png\" alt=\"\"> -->\r\n            </div>\r\n            <div class=\"main\">\r\n                <h2>用户登录</h2>\r\n                <p class=\"text-danger\" v-show='user.errmsg!=\"\"'>{{ user.errmsg }}</p>\r\n                <div :class=\"['group clearfix',user.errstatus==0?'error':'']\">\r\n                    <div class=\"icon float-left\"></div>\r\n                    <input class=\"float-left\" type=\"text\" id=\"username\" v-model.trim='user.username'>\r\n                </div>\r\n                <div class=\"group clearfix\">\r\n                    <div class=\"icon pwd float-left\"></div>\r\n                    <input :class=\"['float-left',user.errstatus==1?'error':'']\" type=\"password\" id=\"password\" v-model.trim='user.password'>\r\n                </div>\r\n                <yzh-code :reload='codeStatus'></yzh-code>\r\n                <input type=\"button\" class=\"btn btn-primary btn-block btn-lg\" value=\"登录\" @click='loginOnClick'>\r\n                <p class=\"forget\"><a href=\"#\">忘记密码？</a></p>      \r\n            </div>\r\n        </div>\r\n    </section>\r\n    <footer>songwx 版权所有</footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from 'vuex'\r\nimport yzhCode from '@/components/yzh-code'\r\nexport default {\r\n  name: 'Login',\r\n  components:{yzhCode},\r\n  data () {\r\n    return {\r\n      codeStatus:1,\r\n      user:{username:'',password:'',errmsg:'',errstatus:null}\r\n    }\r\n  },\r\n  methods:{\r\n    loginOnClick () {\r\n      let params = {uname: this.user.username,upwd: this.user.password}\r\n      if(localStorage.getItem('code')){\r\n        if(this.user.username==''){\r\n          this.user.errmsg='您输入的用户名不存在！';\r\n          this.user.errstatus=0;\r\n          this.$message.error(this.user.errmsg);\r\n          localStorage.removeItem('code');\r\n          this.codeStatus++;\r\n        }else if(this.user.password==''){\r\n          this.user.errmsg='您输入的密码不正确！'\r\n          this.user.errstatus=0;\r\n          this.$message.error(this.user.errmsg);\r\n          localStorage.removeItem('code');\r\n          this.codeStatus++;\r\n        }else{\r\n          this.user.errmsg='';\r\n          let data={sid:1,uname:this.user.username};\r\n          this.setUserData(data);\r\n          data.timer=new Date().getTime();\r\n          localStorage.setItem('user',JSON.stringify(data));\r\n          this.$message({message:'恭喜您，登录成功！',type: 'success'});\r\n          this.$router.push('/');\r\n          localStorage.removeItem('code')\r\n        }\r\n      }else if(!localStorage.getItem('code')){\r\n        this.user.errmsg='请完成验证码验证后再提交！'\r\n        this.user.errstatus=0;\r\n        this.$message.error(this.user.errmsg);\r\n      }\r\n    },\r\n    ...mapActions(['setUserData'])\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nheader{padding: 10px;}\r\n\r\n.login-box{width: 100%; height: 500px; overflow: hidden; position: relative; background: url('../../static/images/ad-bg.png') no-repeat center; background-size: 100% 100%;}\r\n.login{position: relative;top: 50%; height: 400px; width: 1200px; margin: 0 auto;margin-top: -200px;}\r\n.login .main{width: 410px; height: 400px; padding: 30px; font-size: 16px; margin: 0 auto; border-radius: 3px; background: rgba(255, 255, 255, 0.7); box-shadow: 0 0 3px rgba(0, 0, 0, 0.5)}\r\n.login .main h2{font-size: 28px; color: #8c8c8c; margin: 20px 0;}\r\n.login .main .group{height: 45px; margin-bottom: 20px;background: #fff; border: 1px solid #999; }\r\n.login .main .group.error{border: 1px solid #f00;}\r\n.login .main .group .icon{width: 50px; height: 100%; margin-right: 15px; background: url('../../static/images/login-01.png') no-repeat center;}\r\n.login .main .group .icon.pwd{background-image: url('../../static/images/login-02.png');}\r\n.login .main .group input{line-height: 40px; margin-top: 1px; font-size: 14px; width: 280px; border: 0; color: #333; padding: 0px;}\r\n.login .main p{margin: 10px 0;}\r\n.login .main a{color: #8c8c8c;}\r\n.login .main .el-button{font-size: 20px; margin-top: 30px; margin-bottom: 40px; display: block; width: 100%; margin: 20px 0;}\r\n.login .logo{padding: 76px 0 0 76px; float: left;}\r\n.forget{text-align: left;}\r\nfooter{line-height: 40px; text-align: center;}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_vm._v(\" \"),_c('section',{staticClass:\"login-box\"},[_c('div',{staticClass:\"login container clearfix\"},[_c('div',{staticClass:\"logo\"}),_vm._v(\" \"),_c('div',{staticClass:\"main\"},[_c('h2',[_vm._v(\"用户登录\")]),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.user.errmsg!=\"\"),expression:\"user.errmsg!=\\\"\\\"\"}],staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.user.errmsg))]),_vm._v(\" \"),_c('div',{class:['group clearfix',_vm.user.errstatus==0?'error':'']},[_c('div',{staticClass:\"icon float-left\"}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.user.username),expression:\"user.username\",modifiers:{\"trim\":true}}],staticClass:\"float-left\",attrs:{\"type\":\"text\",\"id\":\"username\"},domProps:{\"value\":(_vm.user.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"username\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_vm._v(\" \"),_c('div',{staticClass:\"group clearfix\"},[_c('div',{staticClass:\"icon pwd float-left\"}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.user.password),expression:\"user.password\",modifiers:{\"trim\":true}}],class:['float-left',_vm.user.errstatus==1?'error':''],attrs:{\"type\":\"password\",\"id\":\"password\"},domProps:{\"value\":(_vm.user.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"password\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_vm._v(\" \"),_c('yzh-code',{attrs:{\"reload\":_vm.codeStatus}}),_vm._v(\" \"),_c('input',{staticClass:\"btn btn-primary btn-block btn-lg\",attrs:{\"type\":\"button\",\"value\":\"登录\"},on:{\"click\":_vm.loginOnClick}}),_vm._v(\" \"),_vm._m(1)],1)])]),_vm._v(\" \"),_c('footer',[_vm._v(\"songwx 版权所有\")])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',[_c('img',{attrs:{\"src\":\"static/images/logo.png\",\"alt\":\"\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"forget\"},[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"忘记密码？\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-11b82630\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-11b82630\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-11b82630\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-11b82630\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}